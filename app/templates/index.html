{% extends "base.html" %}
{% from "components/progress.html" import team_progress %}


{% block head %}
<script type="text/javascript" src="https://api.mapy.cz/loader.js"></script>
<script type="text/javascript" src="{{url_for('main.map_gen')}}"></script>

<style>
  html, body {
      height: 100%;
  }
  .waypoint-listing:hover{
      background-color: #e9ecef;
  }
</style>
{% endblock %}

{% block content %}
  {{ team_progress(teams, waypoints | length ) }}

    <div class="row row-eq-height pt-3" style="display: flex;">
        <div class="col-md-8" style="min-height: 50vh;">
            <div id="map" class="h-100 rounded" ></div>
        </div>
        <div class="col-md-4 overflow-auto scrollbar-hidden" style="max-height: 50vh;">
            <ul class="list-group mb-3">

                {% for w in waypoints %}
                    <li class="waypoint-listing list-group-item d-flex justify-content-between lh-condensed">
                        <div>
                            <h6 class="my-0">{{ w['name'] }}</h6>
                            <small class="text-muted">{{ w['description'] }}</small>
                        </div>

                        <span class="text-muted">
                            {% for team in w.owners %}
                            <span title="{{ team.name }}" style="color: {{ team.color }}">&checkmark;</span>
                            {% endfor %}
                        </span>

                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}